<root main_tree_to_execute='HumanWaitUntilRobotPassesTree'>
    <include path='BTRegularNav.xml'/>
    <BehaviorTree ID='HumanWaitUntilRobotPassesTree'>
        <Fallback name='BlockageFallback'>
            <Sequence name='BlockageSequence'>
                <IsRobotBlocking agent_id='{id}' distance='1.0'/>
                <MakeGesture agent_id='{id}' message='1'/> <!-- WAIT Gesture -->
            </Sequence>
            <Sequence name='RegNav'>
                <MakeGesture agent_id='{id}' message='0'/> <!-- No Gesture -->
                <SetBlackboard output_key='agentid' value='{id}'/>
                <SetBlackboard output_key='timestep' value='{dt}'/>
                <SubTree ID='RegularNavTree' id='agentid' dt='timestep'/>
            </Sequence>
        </Fallback>
    </BehaviorTree>
</root>